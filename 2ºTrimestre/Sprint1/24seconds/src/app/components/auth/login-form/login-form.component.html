<div class="login-modal" *ngIf="showLoginModal">
  <div class="login-modal-content">
    <span class="close" (click)="onToggleLoginModal()">&times;</span>
    <div class="toggle-forms">
      <h2 [class.active]="isLoginForm" (click)="toggleForm(true)">¿Ya tienes cuenta?</h2>
      <h2 [class.active]="!isLoginForm" (click)="toggleForm(false)">¿Eres nuevo cliente?</h2>
    </div>
    <form *ngIf="isLoginForm" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div>
        <label for="email">Correo Electrónico</label>
        <input id="email" formControlName="email" type="email">
        <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
          <small *ngIf="loginForm.get('email')?.errors?.['required']">El correo es obligatorio.</small>
          <small *ngIf="loginForm.get('email')?.errors?.['email']">El formato del correo no es válido.</small>
        </div>
      </div>
      <div>
        <label for="password">Contraseña</label>
        <input id="password" formControlName="password" type="password">
        <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
          <small *ngIf="loginForm.get('password')?.errors?.['required']">La contraseña no puede estar vacía.</small>
        </div>
      </div>
      <div>
        <input id="rememberMe" formControlName="rememberMe" type="checkbox">
        <label for="rememberMe">Remember me</label>
      </div>
      <button type="submit">Iniciar Sesión</button>
      <a href="/forgot-password" target="_blank" class="forgot-password-link">¿Olvidaste tu contraseña?</a>

    </form>
    <app-register-form *ngIf="!isLoginForm"></app-register-form>
    <app-notification-system *ngIf="errorMessage" [message]="errorMessage"></app-notification-system>
  </div>
</div>
